<html>
  <body>
    <form onsubmit="saveToLocalStorage(event)">
      <label> Name</label>

      <input type="text" name="username" required />

      <label> EmaiId</label>

      <input type="email" name="emailId" required />

      <label> Phone Number</label>

      <input type="tel" name="phonenumber" required />

      <button>Submit</button>
    </form>

    <ul id="listOfUsers"></ul>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.1.3/axios.min.js"></script>

    <script>
      function saveToLocalStorage(event){
      event.preventDefault();
      const name= event.target.username.value;

      const email=event.target.emailId.value;

      const phonenumber = event.target.phonenumber.value;

      localStorage.setItem('name', name);

      localStorage.setItem('email', email);

      localStorage.setItem('phonenumber', phonenumber)

      const obj = {

      name,

      email,

      phonenumber,

      }

      axios.post("https://crudcrud.com/api/a8d7ac3bfd024e97b10a05135ba37bcb/Appointmentdata", obj)

      .then((response) => {

      showNewUserOnScreen(response.data)

      })

      .catch((err)=> {

      console.log(err)

      })

      window.addEventListener("DOMContentLoaded", () => {

      const localStorageObj= localStorage;

      const localStoragekeys = Object.keys(localstorageObj)



      for(var i=0; i<localstoragekeys.length; i++){

      const key = localstoragekeys[i]

      const userDetailsString = localStorageObj[key];

      const userDetailsObj = JSON.parse(userDetailsString);

      showNewUserOnScreen(userDetailsobj)

      }
      })
      }
    </script>
  </body>
</html>